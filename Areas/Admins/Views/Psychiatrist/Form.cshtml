<div id="psychiatristForm" style="max-width: 500px; margin: 40px auto; padding: 25px; border: 1px solid #ddd; border-radius: 10px; background: #fff;">
    <h2 class="mb-4 text-center" style="font-weight: 700; color: #333;">Add Psychiatrist</h2>

    <div class="form-group mb-3">
        <label for="name" style="font-weight: 600;">Name</label>
        <input type="text" class="form-control" id="name" placeholder="Enter full name" />
    </div>

    <div class="form-group mb-3">
        <label for="email" style="font-weight: 600;">Email</label>
        <input type="email" class="form-control" id="email" placeholder="Enter email address" />
    </div>

    <div class="form-group mb-4">
        <label for="specialization" style="font-weight: 600;">Specialization</label>
        <input type="text" class="form-control" id="specialization" placeholder="Enter specialization" />
    </div>

    <button id="submit" type="submit" class="btn btn-primary w-100" style="font-weight: 600; padding: 10px;">Submit</button>
</div>

<div id="resultMessage" style="max-width: 500px; margin: 10px auto; text-align: center; font-weight: 600;"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>



<script>
    $(document).ready(function () {
        $('#submit').click(function (e) {
            e.preventDefault(); // prevent page reload

             debugger; // Uncomment for debugging if needed
            const name = $('#name').val().trim();
            const email = $('#email').val().trim();
            const specialization = $('#specialization').val().trim();

            // Basic form validation
            if (!name || !email || !specialization) {
                $('#resultMessage').text('Please fill out all fields.').css('color', 'red');
                return;
            }

            // Simulate form submission (you could send this to a backend with AJAX)
            const model = {
                name: name,
                email: email,
                specialization: specialization
            };

              $.ajax({
      url: '/Admins/Psychiatrist/Save',
      type: 'POST',
      data: model,
      success: function (response) {
        if (response.success) {
          // Redirect manually based on response
          window.location.href = response.redirectUrl;
        } else {
          $('#resultMessage').css('color', 'red').text('Error: Unexpected response.');
        }
      },
      error: function (xhr) {
        $('#resultMessage').css('color', 'red').text('Error: ' + (xhr.responseText || 'Unknown error'));
      }
    });


            // For demonstration, just show a success message
            $('#resultMessage')
                .text('Psychiatrist added successfully!')
                .css('color', 'green');

            // Optionally clear form
            $('#name').val('');
            $('#email').val('');
            $('#specialization').val('');
        });
    });
</script>
